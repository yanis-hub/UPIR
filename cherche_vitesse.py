#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Jul 11 11:57:06 2024

@author: malatchoumymarine
"""

import re

#a actualiser pour N=0 et N=2

def vitesse(chemin_fichier):
    mainpumpN1= [0.560, 0.520, 0.507, 0.480, 0.396, 0.311, 0.262, 0.213, 
                 0.178, 0.156, 0.360, 0.458, 0.644, 0.547, 0.444, 0.356, 
                 0.271, 0.209, 0.156]

    secondpumpN11 = [0.174, 0.171, 0.168, 0.165, 0.162, 0.159, 0.157, 0.154, 
                     0.151, 0.148, 0.145, 0.142, 0.139, 0.136, 0.133, 0.131, 
                     0.127, 0.124, 0.121, 0.119, 0.116, 0.113, 0.110, 0.107, 
                     0.104, 0.100, 0.097, 0.094, 0.092, 0.088, 0.085, 0.082, 
                     0.079, 0.076, 0.073, 0.070, 0.067, 0.064, 0.061, 0.058, 
                     0.055, 0.052, 0.049, 0.046, 0.043]
        
    secondpumpN12 = [0.076, 0.086, 0.094, 0.103, 0.112, 0.120, 0.129, 0.138, 
                     0.147, 0.155, 0.164, 0.169]
    
    mainpumpN2 = [0.373, 0.311, 0.262, 0.187, 0.173, 0.156, 0.147, 0.213, 0.236, 0.280]
    
    #secondpumpN2 = [0.174, 0.171, 0.168, 0.165, 0.162, 0.159, 0.157, 0.154, 0.151, 0.148,
                    #0.145, 0.142, 0.139, 0.136, 0.133, 0.131, 0.127, 0.124, 0.121, 0.119,
                    #0.116, 0.113, 0.110, 0.107, 0.104, 0.100, 0.097, 0.094, 0.092, 0.088,
                    #0.085, 0.082, 0.079, 0.076, 0.073, 0.070, 0.067, 0.064, 0.061, 0.058,
                    #0.055, 0.052, 0.049, 0.046, 0.043]
    secondpumpN2 = [0.174, 0.171, 0.168, 0.164, 0.161, 0.158, 0.155, 0.152, 0.148, 0.145, 
                    0.142, 0.137, 0.133, 0.130, 0.126, 0.122, 0.119, 0.115, 0.112, 0.108, 
                    0.104, 0.101, 0.097, 0.094, 0.091, 0.088, 0.085, 0.082, 0.079, 0.076, 
                    0.073, 0.070, 0.067, 0.064, 0.061, 0.058, 0.055, 0.052, 0.049, 0.046, 
                    0.043, 0.040, 0.037, 0.034, 0.031]
    
    
    
    mainpumpN01 = [0.280, 0.267, 0.258, 0.240, 0.209, 0.151, 0.404, 0.360, 0.347,
                   0.324, 0.293, 0.378, 0.489, 0.422, 0.440, 0.467, 0.556, 0.511,
                   0.578, 0.627, 0.596, 0.667, 0.711, 0.747, 0.787, 0.822, 0.858,
                   0.911, 0.956, 1.018]
    
    mainpumpN02 = [0.560, 0.178, 0.560, 0.404, 0.293, 0.253, 0.191, 0.164, 0.151, 0.204,
                   0.258, 0.342, 0.444, 0.520, 0.578, 0.649, 0.711, 0.711, 0.662, 0.644,
                   0.627, 0.622, 0.596, 0.538, 0.440, 0.351, 0.284, 0.218]
    
    secondpumpN01=[ 0.175, 0.171, 0.169, 0.165, 0.163, 0.160, 0.156, 0.154, 0.150, 0.148,
                    0.145, 0.142, 0.139, 0.136, 0.133, 0.130, 0.128, 0.124, 0.122, 0.119,
                    0.116, 0.113, 0.110, 0.105, 0.102, 0.099, 0.096, 0.093, 0.090, 0.087,
                    0.084, 0.081, 0.078, 0.075, 0.072, 0.069, 0.066, 0.063, 0.060, 0.057,
                    0.054, 0.051, 0.048]

    pattern = r'(N=\d+).*/(\d+(?:secondpump|mainpump))/[^/]+/[^/]+\((\d+)\)'

    # Recherche des correspondances
    match = re.search(pattern, chemin_fichier)

    if match:
        n_value = match.group(1)
        pump_value = match.group(2)
        number_value = int(match.group(3))
        
    u=0 #vitesse de l'Ã©coulement
    
    if n_value=='N=1':
        if pump_value=='0802mainpump':
                u=mainpumpN1[number_value-1]
        elif pump_value=='3001secondpump':
                u=secondpumpN12[number_value-1]
        elif pump_value=='0103secondpump':  
                u=secondpumpN11[number_value-1]
                
    if n_value=='N=2':
        if pump_value=='0902mainpump':
            u=mainpumpN2[number_value-1]
        elif pump_value=='0103secondpump':
            u=secondpumpN2[number_value-1]
            
    if n_value=='N=0':
        if pump_value=='0902mainpump':
            u=mainpumpN01[number_value-1]
        if pump_value=='0802mainpump':
            u=mainpumpN02[number_value-1]
        if pump_value=='0103secondpump':
            u=secondpumpN01[number_value-1]
    return u
